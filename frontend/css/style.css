:root{
  --bg:#ffffff;
  --text:#111111;
  --muted:#5b5b5b;

  --yellow:#ffd400;
  --yellow2:#ffbf00;
  --panel:#fff7d1;

  --border:rgba(0,0,0,.12);
  --shadow: 0 12px 30px rgba(0,0,0,.10);

  --r-lg:18px;
  --r-md:14px;
  --r-sm:10px;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
a{color:inherit;text-decoration:none}
.nt-main{padding:18px 14px 40px}
.nt-section{padding:26px 0}
.nt-section-inner{max-width:1100px;margin:0 auto}
.nt-section-inner-narrow{max-width:820px;margin:0 auto}
.nt-section-title{font-size:2rem;letter-spacing:-.03em;margin:0 0 8px}
.nt-section-title-small{font-size:1.1rem;margin:0 0 10px}
.nt-section-lead{margin:0;color:var(--muted);line-height:1.5}

/* Header */
.nt-header{
  position:sticky;top:0;z-index:50;
  background:rgba(255,255,255,.82);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--border);
}
.nt-header-inner{
  max-width:1100px;margin:0 auto;
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 14px;
}
.nt-logo{font-weight:900;letter-spacing:-.03em;display:flex;gap:6px;align-items:baseline}
.nt-logo-news{color:var(--yellow2)}
.nt-logo-thing{color:#111}
.nt-logo-beta{font-size:.72rem;color:var(--muted);border:1px solid var(--border);padding:2px 8px;border-radius:999px}
.nt-nav-link{color:var(--muted);font-weight:600}
.nt-nav-link:hover{color:#111}

/* Buttons */
.nt-btn{
  display:inline-flex;align-items:center;justify-content:center;
  border-radius:999px;
  padding:12px 16px;
  font-weight:800;
  border:1px solid var(--border);
  transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.nt-btn:hover{transform:translateY(-1px)}
.nt-btn-primary{background:var(--yellow);border-color:rgba(0,0,0,.18)}
.nt-btn-primary:hover{background:var(--yellow2)}
.nt-btn-ghost{background:#fff}
.nt-btn-block{width:100%}
.nt-btn.small{padding:8px 12px;font-weight:800}

/* Hero */
.nt-hero{padding-top:10px}
.nt-hero-inner{
  max-width:1100px;margin:0 auto;
  display:grid;grid-template-columns:1.1fr .9fr;gap:18px;
}
.nt-hero-text{
  background:linear-gradient(180deg, rgba(255,212,0,.14), transparent 65%);
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  padding:18px;
  box-shadow:var(--shadow);
}
.nt-hero-text h1{font-size:2.6rem;margin:0 0 8px;letter-spacing:-.04em}
.nt-hero-sub{font-size:1.1rem;margin:0 0 10px;color:#111;font-weight:750}
.nt-hero-body{margin:0 0 14px;color:var(--muted);line-height:1.55}
.nt-hero-actions{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
.nt-hero-note{margin:10px 0 0;color:var(--muted);font-weight:600}

.nt-hero-preview{
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  padding:18px;
  background:linear-gradient(180deg, rgba(255,247,209,.6), #fff);
  box-shadow:var(--shadow);
}
.nt-card-stack-preview{position:relative;height:560px;margin-top:12px}
.nt-card-preview{
  position:absolute;left:50%;transform:translateX(-50%);
  width:min(520px, 100%);
  height:520px;
  border-radius:var(--r-lg);
  border:1px solid var(--border);
  background:#fff;
  box-shadow:var(--shadow);
}
.nt-card-preview-back{top:18px;opacity:.25;transform:translateX(-50%) scale(.96)}
.nt-card-preview-mid{top:9px;opacity:.45;transform:translateX(-50%) scale(.98)}
.nt-card-preview-front{top:0}

/* How */
.nt-how-grid{display:grid;gap:12px;margin-top:12px}
.nt-how-grid-3{grid-template-columns:repeat(3,1fr)}
.nt-how-step{
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  padding:14px;
  background:#fff;
}
.nt-step-icon{font-size:1.4rem}
.nt-how-step h3{margin:8px 0 6px}
.nt-how-step p{margin:0;color:var(--muted);line-height:1.5}

/* World map */
.nt-world-layout{display:grid;grid-template-columns:1.2fr .8fr;gap:14px;margin-top:12px}
.nt-world-map-wrapper{
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  overflow:hidden;
  background:linear-gradient(180deg, rgba(255,212,0,.12), #f7f9ff 60%);
  box-shadow:var(--shadow);
}
.nt-world-map{position:relative;width:100%;padding-top:58%;}
.nt-world-svg{position:absolute;inset:0;width:100%;height:100%}
.nt-world-detail{
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  padding:14px;
  background:#fff;
  box-shadow:var(--shadow);
}
.nt-world-chips{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
.nt-chip{
  border:1px solid var(--border);
  background:var(--panel);
  border-radius:999px;
  padding:6px 10px;
  font-weight:800;
  font-size:.86rem;
}
.nt-world-actions{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}

/* Pins */
.nt-world-pin{
  position:absolute;
  width:14px;height:14px;border-radius:999px;
  background:var(--yellow);
  border:2px solid #111;
  box-shadow:0 8px 18px rgba(0,0,0,.18);
  cursor:pointer;
  transform:translate(-50%,-50%);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.nt-world-pin:hover{transform:translate(-50%,-50%) scale(1.1);background:var(--yellow2)}

/* Safety + AI note */
.nt-safety-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px}
.nt-safety-card{border:1px solid var(--border);border-radius:var(--r-lg);padding:14px;background:#fff;box-shadow:var(--shadow)}
.nt-ai-note{
  margin-top:12px;
  border:1px solid rgba(0,0,0,.12);
  border-radius:var(--r-lg);
  padding:12px 14px;
  background:linear-gradient(90deg, rgba(255,212,0,.16), rgba(255,255,255,1));
  display:flex;gap:10px;align-items:flex-start;
}
.nt-ai-icon{font-size:1.1rem}

/* Cards */
.nt-card-shell{position:relative;overflow:hidden}
.nt-card{
  height:520px;
  width:100%;
  max-width:520px;
  border-radius:var(--r-lg);
  border:1px solid var(--border);
  background:#fff;
  box-shadow:var(--shadow);
  padding:14px;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  transition: transform .22s ease, opacity .22s ease;
  will-change: transform, opacity;
}

.nt-card-top{display:flex;justify-content:space-between;align-items:flex-start;gap:10px}
.nt-card-meta{color:var(--muted);font-weight:700;font-size:.9rem}
.nt-card-dot{margin:0 6px;opacity:.6}
.nt-card-title{
  margin:10px 0 6px;
  font-size:1.28rem;
  letter-spacing:-.02em;
  overflow:hidden;
  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:3;
}
.nt-card-summary{
  margin:0;
  color:var(--muted);
  line-height:1.5;
  flex:1 1 auto;
  overflow:hidden;
  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:7;
}
.ai-caution{
  margin-top:8px;
  padding:10px 12px;
  border-radius:var(--r-md);
  border:1px solid rgba(0,0,0,.12);
  background:rgba(255,212,0,.14);
  font-weight:800;
  color:#111;
}
.nt-card-icebreaker{
  margin-top:10px;
  border-top:1px solid var(--border);
  padding-top:10px;
}
.nt-card-ice-label{font-weight:900;color:#111}
.nt-card-ice-text{
  margin:6px 0 0;
  color:#111;
  font-weight:750;
  overflow:hidden;
  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:4;
}
.nt-card-link{
  margin-top:10px;
  font-weight:900;
  color:#111;
  text-decoration:underline;
}

/* Safety badge */
.nt-safety-badge{
  width:34px;height:34px;border-radius:999px;
  display:flex;align-items:center;justify-content:center;
  font-weight:1000;
  border:2px solid #111;
}
.nt-safety-1{background:#4ade80}
.nt-safety-2{background:#fb923c}
.nt-safety-3{background:#ef4444}

/* Slide classes */
.nt-card.slide-out-left{transform:translateX(-36px);opacity:0}
.nt-card.slide-out-right{transform:translateX(36px);opacity:0}
.nt-card.slide-in-left{transform:translateX(-36px);opacity:0}
.nt-card.slide-in-right{transform:translateX(36px);opacity:0}
.nt-card.slide-in-active{transform:translateX(0);opacity:1}

.nt-card-controls{
  display:flex;justify-content:space-between;align-items:center;
  margin-top:10px;
  width:min(520px, 100%);
}
.nt-card-counter{font-weight:900;color:#111}
.nt-card-hint{font-size:.78rem;color:var(--muted);font-weight:750}

/* App layout */
.nt-app-layout{display:grid;grid-template-columns:.9fr 1.1fr;gap:14px;margin-top:12px}
.nt-selection-panel,.nt-stacks-panel{
  border:1px solid var(--border);
  border-radius:var(--r-lg);
  background:#fff;
  box-shadow:var(--shadow);
  padding:14px;
}
.nt-panel-title{margin:0 0 10px}
.nt-field{display:flex;flex-direction:column;gap:6px;margin-bottom:12px;font-weight:850}
.nt-field span{color:#111}
.nt-field select{
  border:1px solid var(--border);
  border-radius:12px;
  padding:10px 12px;
  font-weight:800;
}
.nt-pill-row{display:flex;gap:8px;flex-wrap:wrap}
.nt-pill{
  border:1px solid var(--border);
  border-radius:999px;
  padding:8px 10px;
  font-weight:900;
  background:#fff;
  cursor:pointer;
}
.nt-pill-active{background:var(--panel)}
.nt-stacks-columns{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:12px}
.nt-stack-title{margin:0 0 10px}
.nt-stack-status{color:var(--muted);font-weight:750;margin-bottom:10px}
.nt-stacks-header{display:flex;align-items:center;justify-content:space-between;gap:10px;flex-wrap:wrap}
.nt-stacks-summary{color:var(--muted);font-weight:800}

/* Modal */
.nt-modal{position:fixed;inset:0;display:none;z-index:200}
.nt-modal-open{display:block}
.nt-modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45)}
.nt-modal-body{
  position:relative;
  max-width:520px;
  margin:14vh auto 0;
  background:#fff;
  border-radius:var(--r-lg);
  border:1px solid var(--border);
  padding:16px;
  box-shadow:var(--shadow);
}
.nt-modal-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}

/* Footer */
.nt-footer{border-top:1px solid var(--border);padding:18px 14px;background:#fff}
.nt-footer-inner{max-width:1100px;margin:0 auto}
.nt-footer-text{color:var(--muted);margin:8px 0}
.nt-footer-links{display:flex;gap:10px;align-items:center;color:var(--muted);font-weight:750}
.nt-footer-links a{text-decoration:underline}
.nt-footer-lang{color:var(--muted);margin-top:10px}

/* Ads placeholders */
.nt-ad{
  margin-top:14px;
  border:1px dashed rgba(0,0,0,.18);
  border-radius:var(--r-lg);
  padding:14px;
  color:rgba(0,0,0,.5);
  font-weight:900;
}
.nt-ad-hero{margin-top:14px}
.nt-ad-world{margin-top:16px}
.nt-ad-sidebar{margin-top:16px}
.nt-ad-stacks{margin-top:14px}

/* Responsive */
@media (max-width: 960px){
  .nt-hero-inner{grid-template-columns:1fr}
  .nt-card-stack-preview{height:540px}
  .nt-world-layout{grid-template-columns:1fr}
  .nt-how-grid-3{grid-template-columns:1fr}
  .nt-safety-grid{grid-template-columns:1fr}
  .nt-app-layout{grid-template-columns:1fr}
  .nt-stacks-columns{grid-template-columns:1fr}
}
@media (max-width: 640px){
  .nt-card, .nt-card-preview{height:480px}
}
